<html>
<head>
	<title>El Casa Poder 2000</title>
	<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
	<script>
    $( document ).ready(function() {
        // console.log( "document loaded" );
        $('#colorSelector1').hide();
		$('#colorSelector2').hide();
		$('#delayDiv').hide();
		$('#durationDiv').hide();
		$('#blockSizeDiv').hide();
		$('#spinner').hide();
    });
 
    $( window ).load(function() {
        // console.log( "window loaded" );
    });
    </script>
	<style>
    </style>
</head>
<body>
	<h3>El Casa Poder 2000</h3>
	<span> Choose Action</span>
	<select id="action" name="action">
		<option value="allOff">All Pixels Off</option>
		<option value="stop">Stop Program</option>
		<option value="setAll">Single Color</option>
		<option value="alternate">Alternate Colors</option>
		<option value="animateAlternate">Animage Alternate Colors</option>
		<option value="rainbow">Rainbow</option>
		<option value="blocks">Blocks</option>
		<option value="loopBlocks">Animate Blocks</option>
		<option value="fadeColor">Fade Between 2 Colors</option>
		<option value="particles">Particles</option>
	</select><br/>

	<span id="colorSelector1">
		Red1: <br/>
		<input type="range"  min="0" max="255" name="r1" id="r1"/>
		<br/>
		Green1: <br/>
		<input type="range"  min="0" max="255" name="g1" id="g1"/>
		<br/>
		Blue1: <br/>
		<input type="range"  min="0" max="255" name="b1" id="b1"/>
		<br/>
	</span>

	<span id="colorSelector2">
		Red2: <br/>
		<input type="range"  min="0" max="255" name="r2" id="r2"/>
		<br/>
		Green2: <br/>
		<input type="range"  min="0" max="255" name="g2" id="g2"/>
		<br/>
		Blue2: <br/>
		<input type="range"  min="0" max="255" name="b2" id="b2"/>
		<br/>
	</span>

	<div id="delayDiv">delay:<input id="delay" name="delay" value="50"/></div>
	<div id="durationDiv">duration:<input id="duration" name="duration" value="5000"/></div>
	<div id="blockSizeDiv">block size:<input id="blockSize" name="blockSize" value="5"/></div>
	<button>Show Me The Money</button>

	<div id="status"></div>
	<div id="result"></div>
	<img id="spinner" width="100" src="spinner.gif"></div>

	<script>
		var button = document.querySelector("button");
		var select = document.querySelector("select");

		select.addEventListener("change", function(ev) {
			console.log("ev: ", ev.target.value);
			if(ev.target.value == 'stop')
			{
				$('#colorSelector1').hide();
				$('#colorSelector2').hide();
				$('#delayDiv').hide();
				$('#durationDiv').hide();
				$('#blockSizeDiv').hide();
			}
			else if(ev.target.value == 'allOff')
			{
				$('#colorSelector1').hide();
				$('#colorSelector2').hide();
				$('#delayDiv').hide();
				$('#durationDiv').hide();
				$('#blockSizeDiv').hide();
			}
			else if(ev.target.value == 'setAll')
			{
				$('#colorSelector1').show();
				$('#colorSelector2').hide();
				$('#delayDiv').hide();
				$('#durationDiv').hide();
				$('#blockSizeDiv').hide();
			}
			else if(ev.target.value == 'alternate')
			{
				$('#colorSelector1').show();
				$('#colorSelector2').show();
				$('#delayDiv').hide();
				$('#durationDiv').hide();
				$('#blockSizeDiv').hide();
			}
			else if(ev.target.value == 'animateAlternate')
			{
				$('#colorSelector1').show();
				$('#colorSelector2').show();
				$('#delayDiv').show();
				$('#durationDiv').hide();
				$('#blockSizeDiv').hide();
			}
			else if(ev.target.value == 'rainbow')
			{
				$('#colorSelector1').hide();
				$('#colorSelector2').hide();
				$('#delayDiv').hide();
				$('#durationDiv').hide();
				$('#blockSizeDiv').hide();
			}
			else if(ev.target.value == 'particles')
			{
				$('#colorSelector1').hide();
				$('#colorSelector2').hide();
				$('#delayDiv').hide();
				$('#durationDiv').hide();
				$('#blockSizeDiv').hide();
			}
			else if(ev.target.value == 'loopBlocks')
			{
				$('#colorSelector1').show();
				$('#colorSelector2').show();
				$('#delayDiv').show();
				$('#durationDiv').hide();
				$('#blockSizeDiv').show();
			}
			else if(ev.target.value == 'blocks')
			{
				$('#colorSelector1').show();
				$('#colorSelector2').show();
				$('#delayDiv').hide();
				$('#durationDiv').hide();
				$('#blockSizeDiv').show();
			}
			else if(ev.target.value == 'fadeColor')
			{
				$('#colorSelector1').show();
				$('#colorSelector2').show();
				$('#delayDiv').show();
				$('#durationDiv').show();
				$('#blockSizeDiv').hide();
			}

		});
	 
	    // If a user clicks on it, say hello!
	    button.addEventListener("click", function(ev) {
	    	$('#spinner').show();
	    	$('#status').html("");
	    	$('#result').html("");
		    $.get("/house/run/action", 
		    	{action:$('#action').val(), r1:$('#r1').val(), g1:$('#g1').val(), b1:$('#b1').val(), r2:$('#r2').val(), g2:$('#g2').val(), b2:$('#b2').val(), delay:$('#delay').val(), blockSize:$('#blockSize').val(), duration:$('#duration').val()}, 
		    	function(data) {
		      if(!data.return_value >= 1) {
		      	$('#status').html("<h3>Request Succeeded</h3>");
		      } else {
		      	$('#status').html("<h3>Request Failed</h3>");
		      }
			  $('#result').html( data );
			  $('#spinner').hide();
			});
	    }, false);
	</script>

</body>
</html>
